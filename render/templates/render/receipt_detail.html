{% extends 'render/base.html' %}
{% load filters %}
{% block content %}
  <div class="mt-5 mb-4 d-flex justify-content-center">
    {% include 'render/store_logo.html' with style='height: 50px; max-width:80vw;' %}
  </div>
  <h1 class="text-center">{{ receipt.storeName }}</h1>
  <p class="opacity-50 text-center">
    {{ receipt.storeAddress }} <br />
    {{ receipt.date|date:'d.m.Y H:i' }}
  </p>
  <table class="table">
    <tbody>
      {% for item in products %}
        <tr onclick="location.href='{% url 'render:receipt_detail' receipt.id %}'">
          <td class="py-3">
            <div class="fs-5">{{ item.name }}</div>
            <div class="opacity-50">{{ item.nameEnglish }}</div>
            <div class="opacity-50">{{ item.nameChinese }}</div>
          </td>
          <td class="py-3 align-bottom">
            {% if item.discount != 0 %}
              <div class="text-end font-monospace fw-thin fw-light text-nowrap" style="color: green;">
                <span style="font-size: 12px;">Discount</span>
                {{ item.discount }} &euro;
              </div>
            {% endif %}
            <div class="text-end font-monospace fw-thin fw-light text-nowrap">{{ item.price }} &euro;</div>
          </td>
        </tr>
      {% empty %}
        <tr>
          <td>No products have been added yet.</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  <p class="d-flex justify-content-between mt-5 fs-2 px-2">
    <span class="">Total Price &nbsp;</span>
    <span class="font-monospace">{{ receipt.totalPrice }} &euro;</span>
  </p>
  <div style="height: 150px;"></div>
  <div class="fixed-bottom d-flex justify-content-center" style="height: 100px;gap: 10px;z-index: 700;">
    <a style="text-decoration: none;" href="{% url 'render:home' %}">
      <button class="btn bg-black text-white rounded-pill d-flex align-items-center" style="height: 50px;gap:5px;">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left">
          <path d="m12 19-7-7 7-7" />
          <path d="M19 12H5" />
        </svg>Home&nbsp;&nbsp;&nbsp;
      </button>
    </a>
  </div>
{% endblock %}
